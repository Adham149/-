<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>قصص الصحابة الكرام</title>
    <!-- تحميل Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* تخصيص الخطوط والألوان (أخضر يماني / ذهبي) */
        :root {
            --primary-yemeni-green: #054f32; /* Deep Olive/Forest Green */
            --accent-gold: #d4af37; /* Classic Gold */
            --bg-light: #f5fff8; /* Mint Cream/Very Light Green */
            --card-shadow: rgba(5, 79, 50, 0.25);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-light);
            color: #1f2937;
            direction: rtl;
        }

        /* تنسيق العنوان المميز */
        .main-header h1 {
            color: var(--primary-yemeni-green);
            font-family: 'Amiri', serif;
            font-size: clamp(30px, 6vw, 44px);
            font-weight: 700;
            text-shadow: 1px 1px 3px var(--card-shadow);
        }
        .main-header p {
            color: var(--primary-yemeni-green);
            font-weight: 500;
        }
        
        /* تأثير التكبير عند التحويم على البطاقة */
        .video-card {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        .video-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px var(--card-shadow);
        }

        /* زر التشغيل الدائري بتصميم أفضل */
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        }

        .play-button::after {
            content: '';
            display: block;
            width: 0;
            height: 0;
            border-left: 25px solid var(--primary-yemeni-green); /* لون الزر الأساسي */
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
            margin-right: -5px; 
        }
        
        .video-thumb {
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        
        .video-thumb img {
            transition: transform 0.3s ease;
        }
        
        .video-thumb:hover img {
            transform: scale(1.05); 
        }

        .custom-video {
            display: none;
            width: 100%;
        }
        
        /* تنسيق عناوين الأقسام الجديدة */
        .section-header {
            font-family: 'Amiri', serif;
            font-size: clamp(24px, 5vw, 32px);
            font-weight: 700;
            margin: 40px 0 20px 0;
            padding-right: 15px;
            border-right: 5px solid var(--accent-gold);
            color: var(--primary-yemeni-green);
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.05);
            background-color: rgba(255, 255, 255, 0.6);
            padding: 10px 15px;
            border-radius: 5px;
        }
        
        /* تنسيق رقم الحلقة */
        .episode-number {
            font-size: 0.9rem;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 9999px; /* rounded-full */
            background-color: var(--accent-gold);
            color: var(--primary-yemeni-green);
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>

    <div class="container mx-auto p-4 max-w-6xl">

        <!-- العنوان الرئيسي والوصف -->
        <header class="main-header text-center mb-10 py-6">
            <h1 class="font-extrabold mb-2">مِنْ بَطُولات الصَحَابة الكِرام</h1>
            <p class="text-xl font-medium">سلسلة مرئية لقصص العظماء الذين صحبوا النبي ﷺ</p>
            <div class="w-1/4 h-1 bg-gradient-to-l from-transparent to-primary-yemeni-green mx-auto mt-4 rounded-full"></div>
        </header>

        <!-- شبكة الفيديوهات يتم توليدها بواسطة JavaScript -->
        <div id="videos-container">
            <!-- يتم إضافة العناوين والبطاقات هنا بواسطة JS -->
        </div>
    </div>

    <script>
        /**
         * بيانات القصص مجمعة حسب الموضوع/الدرس المستفاد (Theme-based).
         * تم حذف قسمي "الحكمة" و "الجهاد".
         * المجموع الكلي: 59 حلقة.
         */
        const storiesData = [
            {
                prophet: "قصص الصحابة - 29 حلقة",
                color: "#1f4068", // Deep Blue
                videos: [
                    { id: 1, title: 'الصحابة في مدرسة النبوة', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_01.mp4', img: 'https://i.ytimg.com/vi/gRqRRYEkHxo/maxresdefault.jpg' },
                    { id: 2, title: 'كافر يدافع عن أبو بكر الصديق', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_02.mp4', img: 'https://static.cdn.asset.aparat.com/avt/14829340-4429-b__7497.jpg' },
                    { id: 3, title: ' يهودي يسلم ويواجه اليهود', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_03.mp4', img: 'https://i.ytimg.com/vi/SFCsBWJjXGc/maxresdefault.jpg' },
                    { id: 4, title: 'أعظم عنقود في التاريخ !', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_04.mp4', img: 'https://tse2.mm.bing.net/th/id/OIP.oRn0sW9yUhcqIntL0lGinwHaEK?rs=1&pid=ImgDetMain&o=7&rm=3' },
                    { id: 5, title: ' أعرج يطأ بعرجته الجنة', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_05.mp4', img: 'https://i.ytimg.com/vi/sCdjCe5q_5Q/maxresdefault.jpg' },
                    { id: 6, title: 'ملك عربي في قبضته رسول الله', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_06.mp4', img: 'https://tse4.mm.bing.net/th/id/OIP.M66b3sm-qbYxVXzJv0tTYwHaE8?rs=1&pid=ImgDetMain&o=7&rm=3' },
                    { id: 7, title: 'أعظم ليلة في حياة سيدنا علي !', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_07.mp4', img: 'https://nurmuhammad.com/wp-content/uploads/Imam-Mahdi-Soldiers-Elite-Khawas-768x432.jpg' },
                    { id: 8, title: ' صحابية تحايلت على زوجها', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_08.mp4', img: 'https://i.pinimg.com/736x/00/85/d2/0085d2ca1556178d93592f7355a92dc6.jpg' },
                    { id: 9, title: 'صحابي يشرب زمزم 30 يوماً !!', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_09.mp4', img: 'https://i.pinimg.com/736x/80/15/9b/80159bab9c04b1b7db513a0c366d51a3.jpg' },
                    { id: 10, title: 'لماذا بكى أنس بن مالك ؟', src: 'https://media.islamway.net/videos/492/15729/452_Hoseny_QesasSahaba_10.mp4', img: 'https://tse4.mm.bing.net/th/id/OIP.115A77TZSEeGVmacVxds5gHaEK?rs=1&pid=ImgDetMain&o=7&rm=3' },
                    { id: 11, title: 'عبد الله بن حذافة السهمي وثباته على الدين', src: 'https://mock.islamway.net/sahaba/abdullah-huth.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=عبد+الله+بن+حذافة' },
                    { id: 12, title: 'ثبات الأنصار يوم بيعة العقبة', src: 'https://mock.islamway.net/sahaba/aqaba-bayah.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=بيعة+العقبة' },
                    { id: 13, title: 'قصة حبشية كانت تخدم المسجد', src: 'https://mock.islamway.net/sahaba/habashiyya.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=قصة+الحبشية' },
                    // حلقات إضافية للوصول إلى 29 حلقة
                    { id: 14, title: 'حمزة بن عبد المطلب وإسلامه', src: 'https://mock.islamway.net/sahaba/hamza-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=حمزة+أسد+الله' },
                    { id: 15, title: 'الطفيل بن عمرو الدوسي وإسلام قومه', src: 'https://mock.islamway.net/sahaba/tufayl-daws.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=الطفيل+الدوسي' },
                    { id: 16, title: 'أبو سفيان بن حرب وإسلامه متأخراً', src: 'https://mock.islamway.net/sahaba/abusufyan-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=أبو+سفيان' },
                    { id: 17, title: 'إسلام النجاشي ملك الحبشة', src: 'https://mock.islamway.net/sahaba/najashi-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=النجاشي+ملك+الحبشة' },
                    { id: 18, title: 'قصة عمار بن ياسر ونزول آية العذر', src: 'https://mock.islamway.net/sahaba/ammar-excuse.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=عمار+بن+ياسر' },
                    { id: 19, title: 'إسلام مصعب بن عمير (ثبات الشباب)', src: 'https://mock.islamway.net/sahaba/musaab-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=مصعب+بن+عمير' },
                    { id: 20, title: 'إسلام أبي هريرة وحب القطط', src: 'https://mock.islamway.net/sahaba/abuhrera-cats.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=أبو+هريرة' },
                    { id: 21, title: 'أبو جندل بن سهيل وثباته في صلح الحديبية', src: 'https://mock.islamway.net/sahaba/abujandal.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=أبو+جندل' },
                    { id: 22, title: 'إسلام خالد بن الوليد وعمرو بن العاص', src: 'https://mock.islamway.net/sahaba/khalid-amr-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=خالد+وعمرو' },
                    { id: 23, title: 'قصة أم الفضل بنت الحارث (ثبات المرأة)', src: 'https://mock.islamway.net/sahaba/umfadle.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=أم+الفضل' },
                    { id: 24, title: 'العباس بن عبد المطلب وإسلامه', src: 'https://mock.islamway.net/sahaba/abbas-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=العباس+عم+النبي' },
                    { id: 25, title: 'قصة وفد بني حنيفة وعظيم ثباتهم', src: 'https://mock.islamway.net/sahaba/banu-hanifa.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=وفد+بني+حنيفة' },
                    { id: 26, title: 'ثبات أبي بكر يوم وفاة النبي', src: 'https://mock.islamway.net/sahaba/siddiq-death-2.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=أبو+بكر+والثبات' },
                    { id: 27, title: 'إسلام عدي بن حاتم الطائي (المناظرة)', src: 'https://mock.islamway.net/sahaba/addi-hatem.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=عدي+بن+حاتم' },
                    { id: 28, title: 'إسلام زيد بن الدثنة وقولته', src: 'https://mock.islamway.net/sahaba/zayd-dathna.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=زيد+بن+الدثنة' },
                    { id: 29, title: 'موقف هند بنت عتبة يوم الفتح', src: 'https://mock.islamway.net/sahaba/hind-islam.mp4', img: 'https://placehold.co/360x200/1f4068/ffffff?text=هند+بنت+عتبة' }
                ]
            },
            {
                prophet: "في الكرم والإنفاق (الصدقة) - 30 حلقة",
                color: "#2e7d32", // Darker Olive/Green
                videos: [
                    { id: 30, title: 'عثمان ذو النورين في جيش العسرة', src: 'https://mock.islamway.net/sahaba/othman-tabouk.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=كرم+عثمان+في+تبوك' },
                    { id: 31, title: 'عبد الرحمن بن عوف ومباركته في التجارة', src: 'https://mock.islamway.net/sahaba/abdulrahman-sadaqa.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=تجارة+عبد+الرحمن+بن+عوف' },
                    { id: 32, title: 'قصة بئر رومة', src: 'https://mock.islamway.net/sahaba/roma-well.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=بئر+رومة' },
                    { id: 33, title: 'إيثار أبي طلحة الأنصاري وحديقته', src: 'https://mock.islamway.net/sahaba/abutalah-garden.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=حديقة+أبو+طلحة' },
                    { id: 34, title: 'أبو بكر الصديق وماله كله', src: 'https://mock.islamway.net/sahaba/siddiq-money.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=أبو+بكر+وماله' },
                    { id: 35, title: 'كعب بن مالك وتوبته وقصة صدقته', src: 'https://mock.islamway.net/sahaba/kab-sadaqa.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=كعب+بن+مالك' },
                    { id: 36, title: 'جابر بن عبد الله وكرمه مع النبي', src: 'https://mock.islamway.net/sahaba/jabir-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=جابر+بن+عبد+الله' },
                    // 23 حلقة إضافية لهذا القسم
                    { id: 37, title: 'كرم أم سلمة رضي الله عنها', src: 'https://mock.islamway.net/sahaba/umsalama-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=كرم+أم+سلمة' },
                    { id: 38, title: 'تصدق عائشة بمال كثير', src: 'https://mock.islamway.net/sahaba/aisha-sadaqa.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=صدقة+عائشة' },
                    { id: 39, title: 'الأنصار وتوزيع الغنائم', src: 'https://mock.islamway.net/sahaba/ansar-gahnem.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=كرم+الأنصار' },
                    { id: 40, title: 'قصة الإيثار (رجل من الأنصار)', src: 'https://mock.islamway.net/sahaba/athar-ansar.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=الإيثار' },
                    { id: 41, title: 'طلحة بن عبيد الله ولقب "طلحة الجود"', src: 'https://mock.islamway.net/sahaba/talha-jood.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=طلحة+الجود' },
                    { id: 42, title: 'حكيم بن حزام وشرائه للنفس المعذبة', src: 'https://mock.islamway.net/sahaba/hakim-buying-2.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=حكيم+بن+حزام' },
                    { id: 43, title: 'زينب بنت جحش وكرمها', src: 'https://mock.islamway.net/sahaba/zainab-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=زينب+بنت+جحش' },
                    { id: 44, title: 'الزبير بن العوام وتفريقه لماله', src: 'https://mock.islamway.net/sahaba/zubair-money.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=الزبير+بن+العوام+والمال' },
                    { id: 45, title: 'سعد بن عبادة وإطعامه الطعام', src: 'https://mock.islamway.net/sahaba/saad-ibadah.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=سعد+بن+عبادة' },
                    { id: 46, title: 'أبو الدرداء وماله', src: 'https://mock.islamway.net/sahaba/abudardaa-money.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=أبو+الدرداء' },
                    { id: 47, title: 'قصة إيثار علي بن أبي طالب وزوجته', src: 'https://mock.islamway.net/sahaba/ali-athar.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=إيثار+علي+وفاطمة' },
                    { id: 48, title: 'البراء بن مالك وكرمه', src: 'https://mock.islamway.net/sahaba/baraa-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=البراء+بن+مالك+كرم' },
                    { id: 49, title: 'قصة أبي هريرة وضيفه الجائع', src: 'https://mock.islamway.net/sahaba/abuhrera-host.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=أبو+هريرة+والضيف' },
                    { id: 50, title: 'من مواقف عمر في الصدقة', src: 'https://mock.islamway.net/sahaba/omar-sadaqa.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=عمر+والصدقة' },
                    { id: 51, title: 'قصة امرأة عجوز وعمر بن الخطاب', src: 'https://mock.islamway.net/sahaba/omar-old-woman.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=عمر+والعجوز' },
                    { id: 52, title: 'عمارة بنت حزم وكرمها', src: 'https://mock.islamway.net/sahaba/ammara-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=عمارة+بنت+حزم' },
                    { id: 53, title: 'العباس بن عبد المطلب وكرمه', src: 'https://mock.islamway.net/sahaba/abbas-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=العباس+والكرم' },
                    { id: 54, title: 'عطاء الزبير بن العوام لأبنائه', src: 'https://mock.islamway.net/sahaba/zubair-sons.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=الزبير+لأبنائه' },
                    { id: 55, title: 'مواقف خالد بن الوليد في الإنفاق', src: 'https://mock.islamway.net/sahaba/khalid-infaq.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=خالد+والإنفاق' },
                    { id: 56, title: 'المقداد بن الأسود وكرمه', src: 'https://mock.islamway.net/sahaba/miqdad-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=المقداد+بن+الأسود' },
                    { id: 57, title: 'قصة عروة بن مسعود الثقفي (طلب العلم والإنفاق)', src: 'https://mock.islamway.net/sahaba/urwa-infaq.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=عروة+بن+مسعود' },
                    { id: 58, title: 'أبو سفيان بن الحارث وكرمه بعد الإسلام', src: 'https://mock.islamway.net/sahaba/abusufyan-karam.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=أبو+سفيان+والكرم' },
                    { id: 59, title: 'أبو طلحة الأنصاري وتصدقه ببستانه', src: 'https://mock.islamway.net/sahaba/abutalah-sadaqa-2.mp4', img: 'https://placehold.co/360x200/2e7d32/ffffff?text=بستان+أبو+طلحة' }
                ]
            }
        ];
        
        const videosContainer = document.getElementById('videos-container');
        
        /**
         * يشغل الفيديو ويخفي الصورة المصغرة وزر التشغيل.
         * يقوم بإيقاف أي فيديو آخر قيد التشغيل.
         */
        function playCustomVideo(thumbDiv) {
            const card = thumbDiv.parentElement;
            const video = card.querySelector('.custom-video');
            
            // 1. إيقاف أي فيديو آخر قيد التشغيل
            const allVideos = document.querySelectorAll('.custom-video');
            allVideos.forEach(v => {
                if (v !== video && !v.paused) {
                    v.pause();
                    v.style.display = 'none';
                    const parentCard = v.closest('.video-card');
                    if(parentCard) {
                        const thumb = parentCard.querySelector('.video-thumb');
                        if(thumb) thumb.style.display = 'block';
                    }
                }
            });

            // 2. إظهار الفيديو وتشغيله
            thumbDiv.style.display = 'none';
            video.style.display = 'block';
            video.play();
            
            // 3. عند انتهاء الفيديو، إعادة عرض الصورة المصغرة
            video.onended = function() {
                video.style.display = 'none';
                thumbDiv.style.display = 'block';
                video.load(); // لإعادة تحميله للتشغيل التالي
            };
        }

        /**
         * يقوم بإنشاء وعرض جميع بطاقات الفيديوهات مصنفة حسب فئة الصحابي.
         */
        function renderStories() {
            videosContainer.innerHTML = '';
            let globalEpisodeCount = 0;

            storiesData.forEach(group => {
                // 1. إضافة عنوان القسم (اسم الفئة)
                const header = document.createElement('h2');
                header.className = 'section-header';
                header.textContent = group.prophet;
                header.style.borderColor = group.color; // استخدام لون المجموعة للتمييز
                header.style.color = group.color;
                videosContainer.appendChild(header);

                // 2. إنشاء شبكة الفيديوهات للمجموعة
                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6';

                group.videos.forEach((video, index) => {
                    globalEpisodeCount++; // عداد عالمي للحلقات
                    // Mock progress calculation based on index
                    const progressPercentage = (index + 1) / group.videos.length * 100;
                    
                    const cardHTML = `
                        <!-- البطاقة ${globalEpisodeCount} -->
                        <div class="video-card bg-white rounded-xl shadow-lg overflow-hidden">
                            <span class="episode-number">حلقة ${globalEpisodeCount}</span>
                            <div class="video-thumb relative" onclick="playCustomVideo(this)">
                                <img src="${video.img}" 
                                     onerror="this.onerror=null;this.src='https://placehold.co/360x200/${group.color.substring(1)}/ffffff?text=${group.prophet.replace(/\s/g, '+')}'"
                                     alt="${video.title}" class="w-full h-auto object-cover">
                                <div class="play-button"></div>
                            </div>
                            <video class="custom-video" controls preload="none">
                                <source src="${video.src}" type="video/mp4">
                                متصفحك لا يدعم تشغيل الفيديو.
                            </video>
                            <div class="video-title p-3 text-lg font-bold text-center">${video.title}</div>
                            <!-- شريط التقدم يستخدم لون المجموعة -->
                            <div class="progress-bg w-full">
                                <div class="progress-bar" style="width: ${progressPercentage}%; background-color: ${group.color};"></div>
                            </div>
                        </div>
                    `;
                    grid.innerHTML += cardHTML;
                });
                
                videosContainer.appendChild(grid);
            });
        }

        document.addEventListener('DOMContentLoaded', renderStories);
    </script>

</body>
</html>
